{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\INDIA\\\\Documents\\\\MAJOR PROJ\\\\RentPeCar\\\\RentPeCar_Frontend\\\\src\\\\User\\\\pages\\\\User\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport { url } from \"../../../Commons/constants\";\nimport React from \"react\";\nimport \"./Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  let flag = \"false\";\n  const history = useHistory();\n\n  const CheckRole = role => {\n    if (role === \"user\") {\n      history.push(\"/car_list\");\n    } else if (role === \"admin\") {\n      history.push(\"admin_dashboard\");\n    } else {\n      history.push(\"employee_dashboard\");\n    }\n  };\n\n  const validUser = () => {\n    if (email.length === 0) {\n      alert(\"Enter your email\");\n    } else if (password.length === 0) {\n      alert(\"Enter your password\");\n    } else {\n      const data = {\n        // java scrip obj\n        email: email,\n        password: password\n      };\n      axios.post(url + \"/user/authenticate\", data).then(response => {\n        const result = response.data;\n        console.log(result.status);\n        console.log(result);\n\n        if (result.status === \"success\") {\n          alert(\"login Successfully\");\n          flag = \"true\";\n          CheckRole(result.data.role);\n          sessionStorage.setItem(\"isActive\", flag);\n          sessionStorage.setItem(\"user\", JSON.stringify(result));\n        } else {\n          alert(\"Invalid usename or password\");\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      class: \"form-signin\",\n      style: {\n        marginTop: \"150px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fas fa-user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"h3 mb-3 fw-normal\",\n        children: \"Please sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setEmail(event.target.value);\n          },\n          type: \"email\",\n          class: \"form-control\",\n          id: \"floatingInput\",\n          placeholder: \"name@example.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"floatingInput\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setPassword(event.target.value);\n          },\n          type: \"password\",\n          class: \"form-control\",\n          id: \"floatingPassword\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"floatingPassword\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating\",\n          children: [\"Can't Remember Password, Click\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/reset_password\",\n            children: \"here \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 39\n          }, this), \" to reset your password.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-100 btn btn-primary\",\n        onClick: validUser,\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [\"Not a User, \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 23\n        }, this), \" here.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"mt-5 mb-3 text-muted\",\n        children: \"\\xA9 2023\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"cJr7VbQ/R8GRPXZytKWZJrG6uB8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useState","Link","useHistory","url","React","Login","email","setEmail","password","setPassword","flag","history","CheckRole","role","push","validUser","length","alert","data","post","then","response","result","console","log","status","sessionStorage","setItem","JSON","stringify","marginTop","event","target","value"],"sources":["C:/Users/INDIA/Documents/MAJOR PROJ/RentPeCar/RentPeCar_Frontend/src/User/pages/User/Login.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\nimport { url } from \"../../../Commons/constants\";\r\nimport React from \"react\";\r\nimport \"./Login.css\";\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  let flag = \"false\";\r\n  const history = useHistory();\r\n\r\n  const CheckRole = (role) => {\r\n    if (role === \"user\") {\r\n      history.push(\"/car_list\");\r\n      } else if (role === \"admin\") {\r\n      history.push(\"admin_dashboard\");\r\n    } else {\r\n      history.push(\"employee_dashboard\");\r\n    }\r\n  };\r\n  const validUser = () => {\r\n    if (email.length === 0) {\r\n      alert(\"Enter your email\");\r\n    } else if (password.length === 0) {\r\n      alert(\"Enter your password\");\r\n    } else {\r\n    \r\n      const data = { // java scrip obj\r\n        email: email,\r\n        password: password,\r\n      };\r\n\r\n      axios.post(url + \"/user/authenticate\", data).then((response) => {\r\n        const result = response.data;\r\n        console.log(result.status);\r\n        console.log(result);\r\n        if (result.status === \"success\") {\r\n          alert(\"login Successfully\");\r\n          flag = \"true\";\r\n          CheckRole(result.data.role);\r\n          sessionStorage.setItem(\"isActive\", flag);\r\n          sessionStorage.setItem(\"user\", JSON.stringify(result));\r\n        } else {\r\n          alert(\"Invalid usename or password\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return (\r\n\r\n    \r\n    <div className=\"text-center\">\r\n      <main class=\"form-signin\" style={{ marginTop: \"150px\"}}>\r\n        <i class=\"fas fa-user\"></i>\r\n        <h1 class=\"h3 mb-3 fw-normal\">Please sign in</h1>\r\n        <div class=\"form-floating\">\r\n          <input\r\n            onChange={(event) => {\r\n              setEmail(event.target.value);\r\n            }}\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            id=\"floatingInput\"\r\n            placeholder=\"name@example.com\"\r\n          />\r\n          <label for=\"floatingInput\">Email address</label>\r\n        </div>\r\n        <div class=\"form-floating\">\r\n          <input\r\n            onChange={(event) => {\r\n              setPassword(event.target.value);\r\n            }}\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            id=\"floatingPassword\"\r\n            placeholder=\"Password\"\r\n          />\r\n          <label for=\"floatingPassword\">Password</label>\r\n        </div>\r\n        <div className=\"form-floating\">\r\n\r\n\r\n        <div className=\"form-floating\">\r\n        Can't Remember Password, Click<Link to=\"/reset_password\">here </Link> to reset your password.\r\n        </div>\r\n        </div>\r\n        <button className=\"w-100 btn btn-primary\" onClick={validUser}>\r\n          Log In\r\n        </button>\r\n        \r\n        <div className=\"form-floating\">\r\n          Not a User, <Link to=\"/register\">Register</Link> here.\r\n        </div>\r\n\r\n      \r\n        <p class=\"mt-5 mb-3 text-muted\">&copy; 2023</p>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}